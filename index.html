<!doctype html>
<html>
  <body>
    <h1>Unicorn API Test</h1>
    <button onclick="getAllUnicorns()">Get All Unicorns</button>
    <button onclick="getUnicornByName()">Get Unicorn by Name</button>
    <button onclick="createUnicorn()">Create New Unicorn</button>
    <div id="result"></div>

    <script>
      const API_URL = "http://localhost:3000";

      async function getAllUnicorns() {
        const response = await fetch(`${API_URL}/unicorns`);
        const data = await response.json();
        document.getElementById("result").innerHTML = JSON.stringify(
          data,
          null,
          2,
        );
      }

      async function getUnicornByName() {
        const response = await fetch(`${API_URL}/unicorns/Roooooodles`);
        const data = await response.json();
        document.getElementById("result").innerHTML = JSON.stringify(
          data,
          null,
          2,
        );
      }

      async function createUnicorn() {
        const newUnicorn = {
          name: "Sparkles",
          dob: "2000-01-01",
          loves: ["rainbows", "cupcakes"],
          weight: 450,
          vampires: 25,
          gender: "f",
          vaccinated: true,
        };

        const response = await fetch(`${API_URL}/unicorns`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(newUnicorn),
        });

        const data = await response.json();
        document.getElementById("result").innerHTML = JSON.stringify(
          data,
          null,
          2,
        );
      }
    </script>
  </body>
</html>
